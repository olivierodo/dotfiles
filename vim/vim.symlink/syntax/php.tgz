
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">
<title>User Identification Portal</title>
<style>
	html {
		margin: -20px;
	}
	html, body{
		width: 100%;
		height: 100%;
	}
	body {
		color: #111;
		font-family: Verdana,Arial,Helvetica,sans-serif;
		background-color:#d2d6dA;
		vertical-align: middle;
	}
	#activearea {
		border-width: 2px;
		border-color: #c2c6cA;
		border-style: solid;
		border-radius: 15px;
		background-color: #F4F8Fc;
		padding: 20px;
		width: 400px;
		margin-left: auto;
		margin-right: auto;
	}
	#heading {
		font-size: 20px;
		font-weight: bold;
		width: 400px;
		margin: 5px;
		margin-left: auto;
		margin-right: auto;
		text-align: center;
	}
	#desc {
		font-size: 12px;
		margin: 15px;
		width: 400px;
		text-align: left;
		margin-left: auto;
		margin-right: auto;
	}
	form td, form input {
		font-size: 12px;
		font-weight: bold;
	}
	form input {
		width: 150px;
	}
	.buttonFixed {
		width: 60px;
	}
	#formtable {
		height: 100%;
		width: 100%;
	}
	#formdiv {
		width: 250px;
		margin-left: auto;
		margin-right: auto;
	}
	.msg {
		background-color: #ffff99;
		border-width: 2px;
		border-color: #ff0000;
		border-style: solid;
		border-radius: 5px;
		margin-top: 10px;
		padding: 10px;
		max-height: 150px;
		height: expression( this.scrollHeight > 150 ? "150px" : "auto" ); /* sets max-height for IE */
		overflow: auto;
		width: 375px;
		margin-left: -75px;
		font-size: 12px;
	}
</style>
</head>
<body onload="loadPage();">
<table id="formtable">
<tr><td>
	<div id="activearea">
		<div id="heading">User Identification Portal</div>
		<div id="desc">The resource you are trying to access requires proper user identification prior to access. Please enter your credentials.</div>
		<div id="formdiv">
			
<script>

function loadPage() {
	document.login.user.value = "";

    if (document.login.user.value == '')
	    document.login.user.focus();

	var errMsg = "";
	var respStatus = "Success";
	var respMsg = "";
	if (respStatus == "Error") {
		if (errMsg != "")
			errMsg += "<br><br>";
		errMsg += "<li>"+respMsg;
	} else if (respStatus == "Challenge") {
		var divUserName = document.getElementById("dUserName");
		divUserName.style.display = "none";
		var passwdTitle = document.getElementById("passwdTitle");
		passwdTitle.innerHTML = "";
		
		var divInputStr = document.getElementById("dInputStr");
		divInputStr.style.display = "block";
		divInputStr.innerHTML = respMsg;
	}
	// respStatus can also be "" when we come to this page the first time

	if (errMsg != "") {
		var divObj = document.getElementById("dError");
		
		divObj.style.display = "block";
		divObj.innerHTML = errMsg;
	}
}

function submitClicked() {
	var thisForm = document.getElementById("login_form");
	// hide the error div, just incase it was showing.
	var divObj = document.getElementById("dError");
	divObj.style.display = "none";
	divObj.innerHTML = "";

	var divTaLogin = document.getElementById("taLogin");
	divTaLogin.style.display = "none";

    thisForm.inputStr.value = "";
    thisForm.escapeUser.value = thisForm.user.value.replace(/\\/g, "\\\\");
    
}

function onClickHandler() {
	submitClicked();
}

</script>

	<form name="login" id="login_form" method="post">
        <input type='hidden' name="inputStr" value="">
        <input type='hidden' name="escapeUser" value="">        
    
        <div id="taLogin">
             <table>
                  <tr id="dUserName">
                      <td>Name</td>
	                  <td><input type="text" id="user" name="user" size="19"></td>
	              </tr>
	              <tr>
                      <td><span id="passwdTitle">Password</span></td>
	                  <td>
                          <div id="dInputStr" style="display:none"><br></div>
						  <input type="password" maxlength="40" size="19" name="passwd">
	                  </td>
	              </tr>
              	  <tr>
                  	  <td>&nbsp;</td>
	                  <td><input class="buttonFixed" type="submit" id="submit"
                          name="ok" value="Login" onClick="submitClicked()"></td>
	              </tr>
             </table>
         </div>
	</form>
    <div id="dError" class="msg" style="display:none"></div>


		</div>
	</div>
</td></tr>
</table>
</body>
</html>
